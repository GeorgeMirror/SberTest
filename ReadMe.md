# Bank Products Project

## Описание

Проект моделирует банковские продукты: дебетовые и кредитные карты, валютные карты, вклады. Архитектура построена по принципам **Clean Architecture** и **DDD (Domain-Driven Design)**.

## Архитектура

- Контракты вынесены отдельно (в `interfaces/`)
- Реализация разделена по доменам (`card/`, `deposit/`)
- Каждая реализация следует структуре: `abs/` (базовая логика) + `impl/` (конкретная реализация)
- Общие абстракции находятся в `core/` и не зависят от конкретных доменов

## Unit-тесты

Реализованы **две параллельные версии unit-тестов**:

### Витринная версия: `BankProductFullTest.java`

- Объединённые тесты всех продуктов
- Использует `@Nested`, `@DisplayName`, `@Epic`, `@Feature`, `@Severity` для Allure
- Идеально читается как **структурированная спецификация**
- Предназначен для **ревью, презентаций и демонстрации покрытия**

### Промышленная версия: `*Test.java`

- Каждый продукт тестируется отдельно
- Классы: `DebitCardTest`, `CurrencyDebitCardTest`, `CreditCardTest`, `DepositTest`, `CardAbstractTest`
- Отражает best-practices индустрии: SRP, масштабируемость, удобство навигации в IDE
- Обдумано и решено не выносить логику в классы Helper/Mapper/Util.. Этот навык продемонстрирован во второй задаче
В юнит тестах требуется простота и возможность понять происходящее беглым взглядом

### Данный набор тестов является демонстрационным, часть проверок просто пропущена (if блоки), а не полностью покрывающим боевую логику.
### В реальных проектах тестовый набор нужно расширять в рамках следующих подходов:

- Тестирование граничных значений (Boundary Value Analysis)
- Попарное тестирование (Pairwise Testing)
- Тестирование классов эквивалентности (Equivalence Partitioning)
- Комбинированное тестирование (decision tables, all pairs)
- Функциональное и нефункциональное тестирование по ролям пользователей
- etc.

### Почему два варианта?

> Для **ревьюера** и тимлида удобнее видеть спецификацию в одном файле (BankProductFullTest).
>
> Для **производственного кода** предпочтительнее отдельные классы с изолированной ответственностью.
>
> Наличие обоих подходов — **сознательный инженерный выбор**.

## Сборка и запуск тестов

```bash
mvn clean test
```

## Allure отчёты

1. Установите Allure CLI: https://docs.qameta.io/allure/
2. Запустите:

```bash
mvn clean test
allure serve target/allure-results
```
